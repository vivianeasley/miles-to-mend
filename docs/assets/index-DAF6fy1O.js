(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))p(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const e of t.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&p(e)}).observe(document,{childList:!0,subtree:!0});function m(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function p(o){if(o.ep)return;o.ep=!0;const t=m(o);fetch(o.href,t)}})();const E=(d,s=4)=>{const m={};return d.forEach(([p,o])=>{const t=document.createElement("canvas"),e=t.getContext("2d"),r=64;t.width=r,t.height=r,e.imageSmoothingEnabled=!1,e.font=`${r}px sans-serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(p,r/2,r/2);const l=r/s,a=document.createElement("canvas");a.width=l,a.height=l;const u=a.getContext("2d");u.imageSmoothingEnabled=!1,u.drawImage(t,0,0,l,l),e.clearRect(0,0,r,r),e.drawImage(a,0,0,l,l,0,0,r,r),e.filter="sepia(100%)",e.drawImage(t,0,0);const g=e.getImageData(0,0,r,r),i=g.data;for(let f=0;f<i.length;f+=4){const y=i[f],b=i[f+1],w=i[f+2];y<30&&b<30&&w<30&&(i[f+3]=0)}e.putImageData(g,0,0);const c=t.toDataURL("image/png");m[o]=c}),m},$=()=>({flowers:0,mushrooms:0,page:"main",mapPopulated:!1,map:[{images:[],origin:[100,0],range:{x:[75,125],y:[-25,25]},initPuzzle:!0,story:"You come across a field full of sweet smelling flower.",visited:!1}]}),k=()=>({events:{play:()=>S("map")}}),L=(d,s,m,p,o,t,e={})=>{const r=document.getElementById(d);if(!r){console.error("SVG element not found");return}let n;switch(s){case"image":n=document.createElementNS("http://www.w3.org/2000/svg","image"),n.setAttribute("href",e.imagePath||""),n.setAttribute("width",m),n.setAttribute("height",p),n.setAttribute("x",o),n.setAttribute("y",t);break;case"polygon":n=document.createElementNS("http://www.w3.org/2000/svg","polygon");const l=(e.points||[]).map(a=>`${a.x},${a.y}`).join(" ");n.setAttribute("points",l),n.setAttribute("fill",e.fill||"none"),n.setAttribute("stroke",e.stroke||"black");break;case"line":if(e.points&&e.points.length>=2)if(e.curved){const[a,u]=e.points,g={x:a.x+Math.random()*50,y:a.y+Math.random()*50},i={x:u.x-Math.random()*50,y:u.y-Math.random()*50};n=document.createElementNS("http://www.w3.org/2000/svg","path");const c=`M ${a.x} ${a.y} C ${g.x} ${g.y}, ${i.x} ${i.y}, ${u.x} ${u.y}`;n.setAttribute("d",c)}else{n=document.createElementNS("http://www.w3.org/2000/svg","polyline");const a=e.points.map(u=>`${u.x},${u.y}`).join(" ");n.setAttribute("points",a)}else{console.error("Line requires at least two points");return}n.setAttribute("stroke",e.stroke||"black"),n.setAttribute("fill","none");break;default:console.error("Unsupported element type");return}r.appendChild(n)},N=(d,s)=>{const m=document.getElementById("game-svg"),p=document.getElementById("player");let o,t,e=3500,r=3500;function n(){o=window.innerWidth,t=window.innerHeight;const i=e-o/2,c=r-t/2;m.setAttribute("viewBox",`${i} ${c} ${o} ${t}`),p.setAttribute("cx",e),p.setAttribute("cy",r),s.mapPopulated===!1&&(setTimeout(()=>{u(i,c)},2e3),s.mapPopulated=!0)}function l(i,c){e+=i,r+=c,n()}window.addEventListener("resize",n),window.addEventListener("keydown",i=>{switch(i.key){case"ArrowUp":l(0,-10);break;case"ArrowDown":l(0,10);break;case"ArrowLeft":l(-10,0);break;case"ArrowRight":l(10,0);break}}),n();const{images:a}=s;function u(i,c){const y=Math.ceil(o/150)+10,b=Math.ceil(t/150)+10;for(let w=0;w<b;w++)for(let v=0;v<y;v++){const M=i+v*150,P=c+w*150;g(150,M,P)}}function g(i,c,f){const y=Math.floor(Math.random()*i/2),b=Math.floor(Math.random()*i/2),w=Math.random()>.5?"1tree":"1tree2";L("game-svg","image",75,75,c+y,f+b,{imagePath:a[w]})}return{events:{}}},A=d=>document.querySelector(d),z=[["🌲","1tree"],["🌳","1tree2"],["⛰️","1mountain"],["🏔️","1mountain2"],["🛖","2hut"],["🏚️","2home"],["⛪","2church"],["🏛️","2temple"],["🏯","2castle"],["🏰","2castle2"],["👶","3people"],["🧒","3people1"],["🧓","3people2"],["🧑‍🦱","3people3"],["🧑‍🦰","3people4"],["🧑‍🦳","3people5"],["🧑","3people6"],["👵","3people7"],["👩‍🦱","3people8"],["👩‍🦰","3people9"],["👩‍🦳","3people10"],["👱‍♀️","3people11"],["👴","3people12"],["👨‍🦱","3people13"],["👨‍🦰","3people14"],["👨‍🦳","3people15"],["🧔","3people16"],["🐓","4animal1"],["🐖","4animal2"],["🐂","4animal3"],["🐏","4animal4"],["🐕","4animal5"],["🐐","4animal6"],["🐎","4animal7"],["🦌","4animal8"],["🦉","4animal9"],["🐀","4animal10"],["🦇","4animal11"],["🐇","4animal12"],["🐕","4animal13"],["🌼","5flower"],["🌷","5flower1"],["🥀","5flower2"],["🌻","5flower3"],["🌱","5flower4"],["🍃","5flower5"],["🌸","5flower6"],["🌿","5flower7"],["🌺","5flower8"],["🍂","5flower9"],["🌹","5flower10"],["🍀","5flower11"],["🪷","5flower12"],["🌵","5flower13"],["🌾","5flower14"],["🐜","6insect"],["🐛","6insect1"],["🪲","6insect2"],["🦟","6insect3"],["🐞","6insect4"],["🐝","6insect5"],["🪳","6insect6"],["🪱","6insect7"],["🦋","6insect8"],["🪰","6insect9"],["🕷","6insect10"],["🦗","6insect11"],["🕸","6insect12"],["🦇","6insect13"]],x=A("#app"),h=$(),B=E(z);h.images=B;h.vWidth=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);h.vHeight=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);h.xOrigin=Math.floor(7e3/2);h.yOrigin=Math.floor(7e3/2);const I={main:{html:'<div>You win</div><button class="play">Play New</button><button class="play-saved">Play Saved</button>',funct:k},map:{html:`<svg id="game-svg" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
        <!-- Define the gradient -->
        <defs>
            <linearGradient id="backgroundGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:yellow;stop-opacity:1" />
                <stop offset="33%" style="stop-color:green;stop-opacity:1" />
                <stop offset="66%" style="stop-color:orange;stop-opacity:1" />
                <stop offset="100%" style="stop-color:pink;stop-opacity:1" />
            </linearGradient>
        </defs>

        <!-- Use the gradient as a background -->
        <rect width="7000px" height="7000px" fill="url(#backgroundGradient)" />

        <!-- The player circle -->
        <circle id="player" r="50" fill="blue"/>
    </svg>`,funct:N},puzzle:{html:'<div id="game-board"></div><button id="flower-button">🌺 Flower</button><button id="mushroom-button">🍄 Mushroom</button><button id="submit-button">Submit</button>',funct:()=>console.log("puzzle")},win:{html:"<div>You win</div>",funct:()=>console.log("win")},lose:{html:"<div>You lose</div>",funct:()=>console.log("lose")}};function S(d){h.page=d;const s=I[d];x.innerHTML=s.html,setTimeout(()=>{const{events:m}=s.funct(x,h);m&&Object.keys(m).forEach(p=>{A("."+p).addEventListener("click",m[p],!0)})},0)}S("main");
