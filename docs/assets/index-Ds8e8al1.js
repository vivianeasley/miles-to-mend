(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const t of n.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&l(t)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const k=(e,a=4)=>{const s={};return e.forEach(([l,o])=>{const n=document.createElement("canvas"),t=n.getContext("2d"),r=64;n.width=r,n.height=r,t.imageSmoothingEnabled=!1,t.font=`${r}px sans-serif`,t.textAlign="center",t.textBaseline="middle",t.fillText(l,r/2,r/2);const d=r/a,c=document.createElement("canvas");c.width=d,c.height=d;const u=c.getContext("2d");u.imageSmoothingEnabled=!1,u.drawImage(n,0,0,d,d),t.clearRect(0,0,r,r),t.drawImage(c,0,0,d,d,0,0,r,r),t.filter="sepia(100%)",t.drawImage(n,0,0);const g=t.getImageData(0,0,r,r),p=g.data;for(let h=0;h<p.length;h+=4){const L=p[h],O=p[h+1],$=p[h+2];L<30&&O<30&&$<30&&(p[h+3]=0)}t.putImageData(g,0,0);const M=n.toDataURL("image/png");s[o]=M}),s},R=[["🌲","1tree"],["🌳","1tree2"],["⛰️","1mountain"],["🏔️","1mountain2"],["🛖","2hut"],["🏚️","2home"],["⛪","2church"],["🏛️","2temple"],["🏯","2castle"],["🏰","2castle2"],["👶","3people"],["🧒","3people1"],["🧓","3people2"],["🧑‍🦱","3people3"],["🧑‍🦰","3people4"],["🧑‍🦳","3people5"],["🧑","3people6"],["👵","3people7"],["👩‍🦱","3people8"],["👩‍🦰","3people9"],["👩‍🦳","3people10"],["👱‍♀️","3people11"],["👴","3people12"],["👨‍🦱","3people13"],["👨‍🦰","3people14"],["👨‍🦳","3people15"],["🧔","3people16"],["🐓","4animal1"],["🐖","4animal2"],["🐂","4animal3"],["🐏","4animal4"],["🐕","4animal5"],["🐐","4animal6"],["🐎","4animal7"],["🦌","4animal8"],["🦉","4animal9"],["🐀","4animal10"],["🦇","4animal11"],["🐇","4animal12"],["🐕","4animal13"],["🌼","5flower"],["🌷","5flower1"],["🥀","5flower2"],["🌻","5flower3"],["🌱","5flower4"],["🍃","5flower5"],["🌸","5flower6"],["🌿","5flower7"],["🌺","5flower8"],["🍂","5flower9"],["🌹","5flower10"],["🍀","5flower11"],["🪷","5flower12"],["🌵","5flower13"],["🌾","5flower14"],["🐜","6insect"],["🐛","6insect1"],["🪲","6insect2"],["🦟","6insect3"],["🐞","6insect4"],["🐝","6insect5"],["🪳","6insect6"],["🪱","6insect7"],["🦋","6insect8"],["🪰","6insect9"],["🕷","6insect10"],["🦗","6insect11"],["🕸","6insect12"],["🦇","6insect13"]],T=(e,a,s,l,o,n,t={})=>{const r=document.getElementById(e);if(!r){console.error("SVG element not found");return}let i;switch(a){case"image":i=document.createElementNS("http://www.w3.org/2000/svg","image"),i.setAttribute("href",t.imagePath||""),i.setAttribute("width",s),i.setAttribute("height",l),i.setAttribute("x",o),i.setAttribute("y",n);break;case"polygon":i=document.createElementNS("http://www.w3.org/2000/svg","polygon");const d=(t.points||[]).map(c=>`${c.x},${c.y}`).join(" ");i.setAttribute("points",d),i.setAttribute("fill",t.fill||"none"),i.setAttribute("stroke",t.stroke||"black");break;case"line":if(t.points&&t.points.length>=2)if(t.curved){const[c,u]=t.points,g={x:c.x+Math.random()*50,y:c.y+Math.random()*50},p={x:u.x-Math.random()*50,y:u.y-Math.random()*50};i=document.createElementNS("http://www.w3.org/2000/svg","path");const M=`M ${c.x} ${c.y} C ${g.x} ${g.y}, ${p.x} ${p.y}, ${u.x} ${u.y}`;i.setAttribute("d",M)}else{i=document.createElementNS("http://www.w3.org/2000/svg","polyline");const c=t.points.map(u=>`${u.x},${u.y}`).join(" ");i.setAttribute("points",c)}else{console.error("Line requires at least two points");return}i.setAttribute("stroke",t.stroke||"black"),i.setAttribute("fill","none");break;default:console.error("Unsupported element type");return}r.appendChild(i)};let S=!1;const B=k(R);navigator.geolocation?navigator.geolocation.watchPosition(e=>{console.log("Location accessed:",e)},e=>{switch(e.code){case e.PERMISSION_DENIED:alert("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case e.TIMEOUT:alert("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occurred.");break}}):alert("Geolocation is not supported by this browser.");const P=document.getElementById("game-svg"),E=document.getElementById("player");let b,y,v=3500,x=3500,m,f;function w(e){return e*Math.PI/180}function I(e,a,s,l){const n=w(e),t=w(s),r=w(s-e),i=w(l-a),d=Math.sin(r/2)*Math.sin(r/2)+Math.cos(n)*Math.cos(t)*Math.sin(i/2)*Math.sin(i/2);return 6371e3*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))*3.28084}function N(e){return e/10}function A(){b=window.innerWidth,y=window.innerHeight;const e=v-b/2,a=x-y/2;P.setAttribute("viewBox",`${e} ${a} ${b} ${y}`),E.setAttribute("cx",v),E.setAttribute("cy",x),S===!1&&(setTimeout(()=>{D(e,a)},2e3),S=!0)}function q(e,a){v+=e,x+=a,A()}function U(e,a){const s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",e-5),s.setAttribute("y",a-5),s.setAttribute("width",10),s.setAttribute("height",10),s.setAttribute("fill","red"),P.appendChild(s)}navigator.geolocation?navigator.geolocation.watchPosition(e=>{const{latitude:a,longitude:s}=e.coords;if(m!==void 0&&f!==void 0){const l=a-m,o=s-f,n=I(m,f,a,f),t=I(m,f,m,s),r=N(t)*Math.sign(o),i=N(n)*Math.sign(l);(n>=30||t>=30)&&(q(r,i),U(v,x),m=a,f=s)}else m=a,f=s},e=>{switch(e.code){case e.PERMISSION_DENIED:alert("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case e.TIMEOUT:alert("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:alert("An unknown error occurred.");break}}):alert("Geolocation is not supported by this browser.");window.addEventListener("resize",A);A();function D(e,a){const l=Math.ceil(b/150)+10,o=Math.ceil(y/150)+10;for(let n=0;n<o;n++)for(let t=0;t<l;t++){const r=e+t*150,i=a+n*150;C(150,r,i)}}function C(e,a,s){const l=Math.floor(Math.random()*e/2),o=Math.floor(Math.random()*e/2),n=Math.random()>.5?"1tree":"1tree2";T("game-svg","image",75,75,a+l,s+o,{imagePath:B[n]})}
